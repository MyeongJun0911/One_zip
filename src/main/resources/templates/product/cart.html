<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
        layout:decorate="~{layout/default}">

<head>
  <title>장바구니</title>
</head>
<style layout:fragment="style">
</style>

<div layout:fragment="content">
        <form name="cartDeleteFrm"
              th:action="@{/product/cart.do}"
              method="post"
              enctype="multipart/form-data">
            <p>총 [[${totalCount}]]건의 상품이 조회되었습니다.</p>
            <table id="tbl-product" class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>상품고유번호</th>
                    <th>상품명</th>
                    <th>수량</th>
                    <th>가격</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cart, status : ${cartlist}" th:data-cart-id="${cart.id}">
                    <td th:text="${cart.id}"></td>
                    <td th:text="${cart.product.productName}"></td>
                    <td th:text="${cart.cartQuantity}"></td>
                    <br>
                    <span th:text="|구매수량:|"><span th:style="'margin-right: 10px;'"></span></span>
                    <span><button id="plus-btn" class="quantity-btn">+</button></span>
                    <input id="product-quantity" name="productQuantity" type="text" value='1' style="width: 45px; border: none; outline: none; text-align: center;">
                    <span><button id="minus-btn" class="quantity-btn">-</button></span>
                    <br>
                    <td th:text="|${cart.product.productPrice}원|"></td>
                    <td>
                        <p>총 [[${totalprice}]]원 입니다.</p>
                        <!--   사업자 로그인 구현 완료 되면 안써도 될듯 ? (아직 값 전달 안돼서 하드코딩 후 hidden처리함)   -->
                        <input type="hidden" name="memberId" th:value="${cart.member.memberId}"/>

                        <a href="javascript:confirm('정말 삭제하시겠습니까? 😯') && document.businessDeleteFrm.submit();" class="btn btn-outline-success d-inline-block mr-2">삭제</a>
        </form>

    </td>
    </tr>
    </tbody>
    </table>

</div>

<script layout:fragment="script">
</script>
</html>
